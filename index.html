<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Netty</title>
<style>
  body {
    margin:0;
    height:100vh;
    display:flex;
    flex-direction: column;
    align-items:center;
    justify-content:center;
    background: radial-gradient(circle at center, 
                #ff88a4 0%, /* Rosa Who Really Cares en el centro */
                #ff88a4 20%, /* El rosa se mantiene */
                #191970 80%, /* Azul rey oscuro transiciona */
                #191970 100%); /* Azul rey en los bordes */
    color:#fff;
    font-family:Arial, Helvetica, sans-serif;
    overflow:hidden;
    position: relative;
  }
  .container {
    font-size:60px;
    font-weight:bold;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    transition: opacity 1s ease;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  }
  .netty {
    position:absolute;
    font-size:80px;
    font-weight:900;
    opacity:0;
    transform:translateY(30px) scale(0.9);
    color:#fff;
    display:flex;
    align-items:center;
    gap:12px;
    transition: opacity 0.5s ease, transform 0.5s ease;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    z-index: 20; /* Aseguramos que Netty est√© muy visible */
  }
  .netty.show {
    opacity:1;
    transform:translateY(0) scale(1);
  }
  .dot {
    font-size:60px;
  }
  .letters {
    display:inline-block;
  }
  .letters span {
    opacity:0;
    display:inline-block;
    transition:opacity 0.4s ease;
  }
  .letters span.show {
    opacity:1;
  }

  /* --- Estilos para los elementos que caen (corazones y texto) --- */
  .falling-element {
    position: absolute;
    top: -50px; /* Empiezan desde arriba de la pantalla */
    pointer-events: none;
    opacity: 0;
    animation: fall linear forwards;
    z-index: 1; /* Detr√°s del texto principal, pero visibles */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
    font-weight: bold;
  }
  
  .falling-heart {
    font-size: 28px;
  }

  .falling-text {
    font-size: 20px;
    /* Ajusta el color del texto si quieres que destaque m√°s del blanco */
    color: #ffddf4; /* Rosa p√°lido para el texto */
  }

  @keyframes fall {
    0% {
      transform: translateY(0) translateX(0) rotateZ(0deg);
      opacity: 0.9;
    }
    100% {
      /* Ca√≠da completa m√°s desplazamiento y rotaci√≥n */
      transform: translateY(105vh) translateX(var(--end-x)) rotateZ(var(--rotation-end));
      opacity: 0;
    }
  }
</style>
</head>
<body>
  <div class="container" id="text">I LOVE YOU</div>

  <div class="netty" id="netty">
    <span class="dot">ü§ç</span>
    <div class="letters" id="letters"></div>
    <span class="dot">üíó</span>
  </div>

<script>
const textEl = document.getElementById("text");
const nettyEl = document.getElementById("netty");
const lettersEl = document.getElementById("letters");

// Array de frases "Te amo" para que caigan
const languages = [
  "Te amo",
  "I love you",
  "Je t'aime",
  "Ich liebe dich",
  "Ti amo",
  "Eu te amo",
  "ÏÇ¨ÎûëÌï¥ (Saranghae)",
  "ÊÑõ„Åó„Å¶„Çã (Aishiteru)",
  "ÊàëÁà±‰Ω† (W«í √†i n«ê)",
  "S'agapo (Œ£'Œ±Œ≥Œ±œÄœé)"
];

// Secuencia de pasos de texto
const steps = [
  "I LOVE YOU",
  "I üíó YOU",
  "üíó YOU",
  "üíó"
];

let i = 0;
function nextStep(){
  if(i < steps.length){
    textEl.textContent = steps[i];
    i++;
    setTimeout(nextStep, 1200);
  } else {
    // Ocultar texto
    setTimeout(()=>{
      textEl.style.opacity = "0";
      // Mostrar Netty
      setTimeout(()=>{
        nettyEl.classList.add("show");
        writeNetty("Netty");
      }, 1000);
    }, 1200);
  }
}
nextStep();

// Escritura letra por letra
function writeNetty(word){
  lettersEl.innerHTML = "";
  [...word].forEach((ch, idx)=>{
    const span = document.createElement("span");
    span.textContent = ch;
    lettersEl.appendChild(span);
    setTimeout(()=>{
      span.classList.add("show");
    }, idx * 500); // velocidad de escritura (0.5s por letra)
  });
  
  // Despu√©s de que Netty termine de escribirse, iniciar la lluvia de elementos
  setTimeout(() => {
    startFallingElements();
  }, word.length * 500 + 1000);
}

// -------------------------------------------------------------
// Funci√≥n general para crear y animar elementos que caen
// -------------------------------------------------------------
let languageIndex = 0;
let fallingInterval;

function createFallingElement(content, isHeart = true) {
  const element = document.createElement("span");
  element.classList.add("falling-element");
  element.innerHTML = content;
  
  if (isHeart) {
    element.classList.add("falling-heart");
  } else {
    element.classList.add("falling-text");
  }

  // Posici√≥n, duraci√≥n y variaci√≥n aleatoria
  element.style.left = `${Math.random() * 100}vw`; 
  const duration = Math.random() * 5 + 6; // 6 a 11 segundos
  element.style.animationDuration = `${duration}s`;
  const endX = (Math.random() - 0.5) * 200; // Desplazamiento horizontal
  const rotationEnd = (Math.random() - 0.5) * 720; // Rotaci√≥n
  element.style.setProperty('--end-x', `${endX}px`);
  element.style.setProperty('--rotation-end', `${rotationEnd}deg`);

  document.body.appendChild(element);

  element.addEventListener('animationend', () => {
    element.remove();
  });
}

function startFallingElements() {
  // Crear el primer elemento al inicio
  createFallingElement(Math.random() < 0.5 ? 'ü§ç' : 'üíó', true);
  
  fallingInterval = setInterval(() => {
    // 60% de probabilidad de que caiga un coraz√≥n
    if (Math.random() < 0.6) {
      // Coraz√≥n
      createFallingElement(Math.random() < 0.5 ? 'ü§ç' : 'üíó', true);
    } else {
      // Texto de idioma
      const langText = languages[languageIndex % languages.length];
      createFallingElement(langText, false);
      // Mover al siguiente idioma en el array
      languageIndex++;
    }
  }, 400); // Crea un elemento (coraz√≥n o texto) cada 400ms
}

</script>
</body>
</html>
